<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>People List</title>
    <!--    <script src="https://onpkg.com/htmx.org@1.6.1"></script> &lt;!&ndash; Include the HTMX library &ndash;&gt;-->


    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
</head>
<body>
<table>
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Description</th>
        <th>Creation Date</th>
        <th>Modification Date</th>
        <th>Is done</th>
    </tr>
    </thead>
    <tbody hx-confirm="Are you sure?" hx-target="closest tr" hx-swap="outerHTML swap:1s">
    <!-- Здесь будут отображаться строки таблицы -->
    <tr th:each="task: ${tasks}">
        <td th:text="${task.id}"></td>
        <td th:text="${task.name}"></td>
        <td th:text="${task.description}"></td>
        <td><input th:type="textfield" th:disabled="true" th:value="${#temporals.format(task.creationDate, 'yyyy.MM.dd HH:mm')}"></td>
        <td><input th:type="textfield" th:disabled="true" th:value="${#temporals.format(task.modificationDate, 'yyyy.MM.dd HH:mm')}"></td>
        <td>
            <input type="checkbox" hx-post="/toggle/{id}" th:checked="${task.isDone}">
        </td>
        <td>
            <button class="btn btn-danger" th:attr="hx-delete='/api/tasks/' + ${task.id}">
                Delete
            </button>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
